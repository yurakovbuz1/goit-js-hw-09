{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst input = form.querySelector(\"input\");\nconst textarea = form.querySelector(\"textarea\");\n// const button = form.querySelector(\"button\");\n// button.addEventListener(\"click\", onButtonClick)\ntextarea.addEventListener(\"input\", handleTextareaPress);\ninput.addEventListener(\"input\", handleInputPress)\nform.addEventListener(\"click\", onFormSubmit)\n\ngetStoredData();\n\nlet info = {};\n\nfunction getStoredData() {\n    const savedMessage = JSON.parse(localStorage.getItem(KEY));\n    if (savedMessage) {\n        input.value = savedMessage.email;\n        textarea.textContent = savedMessage.message;\n    }\n}\n\nfunction handleInputPress(e) {\n    if (e.target.nodeName !== \"INPUT\") return; \n    const email = e.target.value;\n    info.email = email;\n    localStorage.setItem(KEY, JSON.stringify(info));\n};\n\nfunction handleTextareaPress(e) {\n    if (e.target.nodeName !== \"TEXTAREA\") return; \n    const message = e.target.value;\n    info.message = message;\n    localStorage.setItem(KEY, JSON.stringify(info));\n};\n\nfunction onFormSubmit(e) {\n    e.preventDefault()\n    if (e.target.nodeName !== \"BUTTON\") return; \n    e.preventDefault();\n    if (input.value === \"\") {\n        alert(\"Please, fill in your name.\")\n    }\n    else if (textarea.value === \"\") {\n        alert(\"Don't forget to leave your message!\")\n    } else {\n    console.log(JSON.parse(localStorage.getItem(KEY)))\n    textarea.value = \"\";\n    input.value = \"\";\n        localStorage.clear();\n    }\n}\n\n// function onButtonClick(e) {\n//     if (e.target.nodeName !== \"BUTTON\") return; \n//     e.preventDefault();\n//     if (input.value === \"\") {\n//         alert(\"Please, fill in your name.\")\n//     }\n//     else if (textarea.value === \"\") {\n//         alert(\"Don't forget to leave your message!\")\n//     } else {\n//     console.log(JSON.parse(localStorage.getItem(KEY)))\n//     textarea.value = \"\";\n//     input.value = \"\";\n//         localStorage.clear();\n//     }\n// }"],"names":["KEY","form","input","textarea","handleTextareaPress","handleInputPress","onFormSubmit","getStoredData","info","savedMessage","email","message"],"mappings":"wFAAA,MAAMA,EAAM,sBACNC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAWF,EAAK,cAAc,UAAU,EAG9CE,EAAS,iBAAiB,QAASC,CAAmB,EACtDF,EAAM,iBAAiB,QAASG,CAAgB,EAChDJ,EAAK,iBAAiB,QAASK,CAAY,EAE3CC,IAEA,IAAIC,EAAO,CAAA,EAEX,SAASD,GAAgB,CACrB,MAAME,EAAe,KAAK,MAAM,aAAa,QAAQT,CAAG,CAAC,EACrDS,IACAP,EAAM,MAAQO,EAAa,MAC3BN,EAAS,YAAcM,EAAa,QAE5C,CAEA,SAASJ,EAAiB,EAAG,CACzB,GAAI,EAAE,OAAO,WAAa,QAAS,OACnC,MAAMK,EAAQ,EAAE,OAAO,MACvBF,EAAK,MAAQE,EACb,aAAa,QAAQV,EAAK,KAAK,UAAUQ,CAAI,CAAC,CAClD,CAEA,SAASJ,EAAoB,EAAG,CAC5B,GAAI,EAAE,OAAO,WAAa,WAAY,OACtC,MAAMO,EAAU,EAAE,OAAO,MACzBH,EAAK,QAAUG,EACf,aAAa,QAAQX,EAAK,KAAK,UAAUQ,CAAI,CAAC,CAClD,CAEA,SAASF,EAAa,EAAG,CACrB,EAAE,eAAgB,EACd,EAAE,OAAO,WAAa,WAC1B,EAAE,eAAc,EACZJ,EAAM,QAAU,GAChB,MAAM,4BAA4B,EAE7BC,EAAS,QAAU,GACxB,MAAM,qCAAqC,GAE/C,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAG,CAAC,CAAC,EACjDG,EAAS,MAAQ,GACjBD,EAAM,MAAQ,GACV,aAAa,MAAK,GAE1B"}
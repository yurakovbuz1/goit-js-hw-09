{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst input = form.querySelector(\"input\");\nconst textarea = form.querySelector(\"textarea\");\n// const button = form.querySelector(\"button\");\n// button.addEventListener(\"click\", onButtonClick)\ntextarea.addEventListener(\"input\", handleTextareaPress);\ninput.addEventListener(\"input\", handleInputPress)\nform.addEventListener(\"click\", onFormSubmit)\n\nlet info = {\n    // email: \"\",\n    // message: \"\"\n};\ngetStoredData();\n\n\nfunction getStoredData() {\n    const savedMessage = JSON.parse(localStorage.getItem(KEY));\n    if (savedMessage) {\n        info.email = savedMessage.email;\n        input.value = savedMessage.email;\n        info.message = savedMessage.message;\n        textarea.textContent = savedMessage.message;\n    }\n}\n\nfunction handleInputPress(e) {\n    if (e.target.nodeName !== \"INPUT\") return; \n    const email = e.target.value;\n    info.email = email;\n    localStorage.setItem(KEY, JSON.stringify(info));\n};\n\nfunction handleTextareaPress(e) {\n    if (e.target.nodeName !== \"TEXTAREA\") return; \n    const message = e.target.value;\n    info.message = message;\n    localStorage.setItem(KEY, JSON.stringify(info));\n};\n\nfunction onFormSubmit(e) {\n    e.preventDefault()\n    if (e.target.nodeName !== \"BUTTON\") return; \n    if (input.value === \"\") {\n        alert(\"Please, fill in your name.\")\n    }\n    else if (textarea.value === \"\") {\n        alert(\"Don't forget to leave your message!\")\n    } else {\n        console.log(JSON.parse(localStorage.getItem(KEY)))\n        textarea.value = \"\";\n        input.value = \"\";\n        localStorage.clear();\n        info.email = \"\";\n        info.message = \"\";\n    }\n}\n"],"names":["KEY","form","input","textarea","handleTextareaPress","handleInputPress","onFormSubmit","info","getStoredData","savedMessage","email","message"],"mappings":"wFAAA,MAAMA,EAAM,sBACNC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAWF,EAAK,cAAc,UAAU,EAG9CE,EAAS,iBAAiB,QAASC,CAAmB,EACtDF,EAAM,iBAAiB,QAASG,CAAgB,EAChDJ,EAAK,iBAAiB,QAASK,CAAY,EAE3C,IAAIC,EAAO,CAGX,EACAC,IAGA,SAASA,GAAgB,CACrB,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQT,CAAG,CAAC,EACrDS,IACAF,EAAK,MAAQE,EAAa,MAC1BP,EAAM,MAAQO,EAAa,MAC3BF,EAAK,QAAUE,EAAa,QAC5BN,EAAS,YAAcM,EAAa,QAE5C,CAEA,SAASJ,EAAiB,EAAG,CACzB,GAAI,EAAE,OAAO,WAAa,QAAS,OACnC,MAAMK,EAAQ,EAAE,OAAO,MACvBH,EAAK,MAAQG,EACb,aAAa,QAAQV,EAAK,KAAK,UAAUO,CAAI,CAAC,CAClD,CAEA,SAASH,EAAoB,EAAG,CAC5B,GAAI,EAAE,OAAO,WAAa,WAAY,OACtC,MAAMO,EAAU,EAAE,OAAO,MACzBJ,EAAK,QAAUI,EACf,aAAa,QAAQX,EAAK,KAAK,UAAUO,CAAI,CAAC,CAClD,CAEA,SAASD,EAAa,EAAG,CACrB,EAAE,eAAgB,EACd,EAAE,OAAO,WAAa,WACtBJ,EAAM,QAAU,GAChB,MAAM,4BAA4B,EAE7BC,EAAS,QAAU,GACxB,MAAM,qCAAqC,GAE3C,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAG,CAAC,CAAC,EACjDG,EAAS,MAAQ,GACjBD,EAAM,MAAQ,GACd,aAAa,MAAK,EAClBK,EAAK,MAAQ,GACbA,EAAK,QAAU,IAEvB"}